function [gen,bus,Lnbr_all,trsfm,shtc,shtr,vctr,sysdt]=data33
% Power Flow Data IEEE 33-BUS Test System
%
% $Date:2013/05/04 16:30$


% IEEE 33-BUS TEST SYSTEM (American Electric Power)
%
% -------------------- Bus Data ----------------- %
%        Bus  Bus   ---Load---    -Injected-  Vol   Ang   ---Vol---
%        No   Type  MW    Mvar     GS   Bs    Mag.  Deg.  Min  Max
bus = [ 
1   3     0      0  0  0   1.06     0  1.07   1.07 
2   1  -100    -60  0  0   1.045     0  0.9   1.07
3   1   -90    -40  0  0   1.045     0   0.9   1.07
4   1  -120    -80  0  0   1.045    0   0.9   1.07
5   1   -60    -30  0  0   1       0   0.9   1.07
6   1   -60    -20  0  0   1       0   0.9   1.07
7   1   -200  -100  0  0   1       0   0.9   1.07
8   1   -200  -100  0  0   1       0   0.9   1.07
9   1   -60    -20    0   0    1    0   0.9   1.07
10  1   -60    -20    0   0    0.99  0   0.9   1.07
11  1   -45    -30    0   0    1    0   0.9   1.07
12  1   -60    -35    0   0    1    0   0.9   1.07
13  1   -60    -35    0   0    1    0   0.9   1.07
14  1  -120    -80    0   0    1    0   0.9   1.07
15  1   -60    -10    0   0    1    0   0.9   1.07
16  1   -60    -20    0   0    1    0  0.9   1.07
17  1    -60   -20    0   0    0.95    0  0.9   1.07
18  1    -90    -40   0   0    1    0  0.9   1.07
19  1    -90   -40    0   0    1    0  0.9   1.07
20  1    -90    -40   0   0    1    0  0.9   1.07
21  1    -90    -40   0   0    1    0  0.9   1.07
22  1    -90    -40   0   0    1    0  0.9   1.07
23  1    -90    -40   0   0    1    0  0.9   1.07    
24  1    -420   -200  0   0    1    0  0.9   1.07
25  1    -420   -200  0   0    1    0  0.9   1.07
26  1     -60    -25  0   0    1    0  0.9   1.07
27  1     -60    -25  0   0    1    0  0.9   1.07
28  1     -60    -20  0   0    1    0  0.9   1.07
29  1     -120   -70  0   0    1    0  0.9   1.07
30  1     -200   -600 0   0    1    0  0.9   1.07
31  1     -150   -70  0   0    1    0  0.9   1.07
32  1     -210   -100 0   0    1    0  0.9   1.07
33  1     60    400  0   0    1    0  0.9  1.07
];



% -------------------- Gen Data ----------------- %
%      Bus    --Gen--   ---Q---   Vol
%       NO.   MW   MVA  Max  Min  Mag.
gen = [
       	1	 0	0	5	-1	   1.07 1
      ];

% -------------------- Line Data ----------------- %
%      LnBR.  Bus   Bus    R     X     1/2 B   switch
%       NO.  from   to    p.u.  p.u.    p.u.   status            
Lnbr_all = [    
1.  1   2   0.0922  0.0407 0  2   
2.  2   3   0.4930  0.2511 0  1   
3.  3   4   0.3660  0.1864 0  1     
4.  4   5   0.3811  0.1941 0  1    
5.  5   6   0.8190  0.7070 0  1     
6.  6   7   0.1872  0.6188 0  1;
7.  7   8   0.7144  0.2351 0  0;
8.  8   9   1.0300  0.7400 0  1;
9.  9   10  1.0440  0.7400 0  0;
10. 10  11  0.1966  0.065  0  1;
11. 11  12  0.3744  0.1238 0  1; 
12. 12  13  1.4680  1.1550 0  1;
13. 13  14  0.5416  0.7129 0  1;
14. 14  15  0.5910  0.5260 0  0;
15. 15  16  0.7463  0.5450  0  1;
16. 16  17  1.2890  1.7210 0  1;
17. 17  18  0.7320  0.5740 0  1;

18. 2   19  0.1640  0.1565 0  1;
19. 19  20  1.5042  1.3554 0  1;
20. 20  21  0.4095  0.4784 0  1;
21. 21  22  0.7089  0.9373  0  1;
22. 3   23  0.4512  0.3083  0  1;
23. 23  24  0.8980  0.7091  0  1;
24. 24  25  0.8960  0.7011  0  1;
25. 6   26  0.2030  0.1034  0  1;
26. 26  27  0.2842  0.1447  0  1;
27. 27  28  1.0590  0.9337  0  1;
28. 28  29  0.8042  0.7006  0  1;
29. 29  30  0.5075  0.2585  0  1;
30. 30  31  0.9744  0.9630  0  1;
31. 31  32  0.3105  0.3619  0  0;
32. 32  33  0.3410  0.5320  0  1;

33. 25  29  0.3410  0.5320  0  0;
34. 9  15  0.3410  0.5320  0  1;
35. 8  21  0.3410  0.5320  0  1;
36. 12  22  0.3410  0.5320  0  1;
37. 18 33  0.3410  0.5320  0  1;
    ];


% --------------------------- Transformer Data --------------------------- %
%      TrsBR.  Bus   Bus    R     X      ----- Tap -----     Tap      Tap
%       NO.   from   to    p.u.  p.u.    Ratio  Max  Min    Series   Status
trsfm = [
];

% ---- Additonal Facility Data ---- %
% ----------- shunt capacity Data ------------ %
%      Bus  shtc     ---Q---  
%       NO. Mvar  Max  Min 
shtc = [   
   % 33 0 0.5 0   16 1 
   33 0 0.0 0   16 1 
   15 0 0.5 0   16 1 
];
shtr= [];vctr=[];

% System Parameters
[DPRATE,INTRATE,OMRATE,AUECOST,AUCCOST,AURCOST,TMAX,BASEMVA,PFMETHOD,OPTMODEL,OPTMETHOD,...
      ACCURACY,PFMAXIT,OPFMAXIT,POPNUM,CPOPT,TARGET,SUCCESS,PFITER,OPFITER] = idx_sysdt;

% Define Solver Parameters
sysdt(BASEMVA)   =   1000;     % Base KV
sysdt(PFMAXIT)   =   20;     % Maximum Iteration
sysdt(ACCURACY)  =   1e-5;   % Tolerance Constant 
% sysdt(PFMETHOD)  =   2;    % Solver Method Index  
% sysdt(CPOPT)     =   1;    %  

% convert R and X in Line Branch with per unit system
bus (:,3:6) = bus (:,3:6)./sysdt(BASEMVA);
Lnbr_all (:,4:5) = Lnbr_all(:,4:5)./12.66^2;

